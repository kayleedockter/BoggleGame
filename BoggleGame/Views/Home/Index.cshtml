@model List<BoggleGame.Models.ButtonModel>

@{
    ViewData["Title"] = "Home Page";
}
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body>

    <div class="text-center">
        <div>
            <h1>Welcome to the Boggle Game</h1>
            <br />

            <div class="container">
                <div class="row mb-2">
                    <div class="col">
                        <button id="btnClick1" class="btn btn-lg mx-1">R</button>
                        <button id="btnClick2" class="btn btn-lg mx-1">S</button>
                        <button id="btnClick3" class="btn btn-lg mx-1">T</button>
                        <button id="btnClick4" class="btn btn-lg mx-1">L</button>
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col">
                        <button id="btnClick5" class="btn btn-lg mx-1">N</button>
                        <button id="btnClick6" class="btn btn-lg mx-1">E</button>
                        <button id="btnClick7" class="btn btn-lg mx-1">R</button>
                        <button id="btnClick8" class="btn btn-lg mx-1">S</button>
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col">
                        <button id="btnClick9" class="btn btn-lg mx-1">T</button>
                        <button id="btnClick10" class="btn btn-lg mx-1">L</button>
                        <button id="btnClick11" class="btn btn-lg mx-1">N</button>
                        <button id="btnClick12" class="btn btn-lg mx-1">E</button>
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col">
                        <button id="btnClick13" class="btn btn-lg mx-1">R</button>
                        <button id="btnClick14" class="btn btn-lg mx-1">S</button>
                        <button id="btnClick15" class="btn btn-lg mx-1">T</button>
                        <button id="btnClick16" class="btn btn-lg mx-1">E</button>
                    </div>
                </div>
                <br />

            </div>

            <div>
                <button type="button" class="btn btn-primary mb-2" id="btnPlayGame">Play Game</button>
                <form id="form1" runat="server">
                    <button type="button" class="btn btn-success mb-2" id="btnSubmitWord">Submit Word</button>
                </form>
                <br />

                <label id="guessWord"></label>
                <br />
                <label id="points"></label>
            </div>

        </div>

        <!--DON'T DELETE THIS-->
        <div class="timer">
        </div>
        <div class="Scores">
                <div class="col" id="score1"> Player 1 Score: 0</div>
                <div class="col" id="score2"> Player 2 Score: 0</div>
        </div>
    </div>



</body>

@section Scripts{

    <script src="//cdn.amcharts.com/lib/4/core.js"></script>
    <script src="//cdn.amcharts.com/lib/4/charts.js"></script>
    <script src="//cdn.amcharts.com/lib/4/themes/animated.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/round-slider@1.6.1/dist/roundslider.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/round-slider@1.6.1/dist/roundslider.min.css" rel="stylesheet" />
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="js/main.js" type="module"></script>
    <script src="/js/signalr/dist/browser/signalr.js"></script>
    <script src="~/js/chat.js"></script>

    <!--SignalR Connection-->
    <script>
        var connection = new signalR.HubConnectionBuilder().withUrl("/GameHub").build();

        connection.start().then(function () {
        }).catch(function (err) {
            return console.error(err.toString());
        });
    </script>

    <!---SUBMITTING--->
    <script>
        
        $("#btnSubmitWord").click(function() {
        var sendGuessWord = document.getElementById("guessWord").innerHTML;
        $.ajax({
            type: "POST",
                    url: '@Url.Action("Submit","Home")',
            data: { "word": sendGuessWord },
            contentType: 'application/x-www-form-urlencoded',
            dataType: "json",
                    headers:
            {
                "RequestVerificationToken": $('input:hidden[name="__RequestVerificationToken"]').val()
                    },
            success: function(message) {
                        document.getElementById("points").innerHTML = message;
                // clears the guess word in the inner html
                    document.getElementById("guessWord").innerHTML = "";
                    }
                });
            });
    </script>
    <!---Buttons disabled-->
    <script>
        connection.on("DisableButtons", function () {
        document.getElementById("btnPlayGame").disabled = true;
        document.getElementById("btnSubmitWord").disabled = true; 
        document.getElementById("points").textContent = "Waiting for 2nd player to join!";
    });
    </script>

    <!---Buttons Enabled-->
    <script>
        connection.on("EnableButtons", function () {
        document.getElementById("btnPlayGame").disabled = false;
        document.getElementById("btnSubmitWord").disabled = false; 
        document.getElementById("points").textContent = "Click play game!";
    });
    </script>
 }


    </html>
